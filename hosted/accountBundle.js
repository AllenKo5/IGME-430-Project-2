(()=>{var e={603:e=>{const t=e=>{document.getElementById("popupMessage").textContent=e,document.getElementById("popupWindow").classList.remove("hidden")},a=()=>{document.getElementById("popupWindow").classList.add("hidden")};e.exports={handlePopup:t,sendPost:async(e,r,n)=>{const c=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),m=await c.json();a(),m.popup&&t(m.popup),m.redirect&&(window.location=m.redirect),n&&n(m)},hidePopup:a}},45:(e,t,a)=>{const r=a(603),n=e=>React.createElement("div",{id:"popupWindow",className:"hidden"},React.createElement("h3",null,React.createElement("span",{id:"popupMessage"})),React.createElement("button",{id:"popupButton"},"X")),c=e=>e.premium?React.createElement("div",{id:"ad",className:"hidden"},"ADS GO HERE"):React.createElement("div",{id:"ad"},"ADS GO HERE");e.exports={loginInit:()=>{ReactDOM.render(React.createElement(n,null),document.getElementById("popup")),ReactDOM.render(React.createElement(c,{premium:!1}),document.getElementById("ads"))},accountInit:async()=>{const e=await fetch("/getToken"),t=await e.json(),a=await fetch("/getAccountData"),m=await a.json();ReactDOM.render(React.createElement(n,null),document.getElementById("popup")),document.querySelector("#popupButton").addEventListener("click",r.hidePopup),m?ReactDOM.render(React.createElement(c,{premium:m.account.premium,csrf:t.csrfToken}),document.getElementById("ads")):ReactDOM.render(React.createElement(c,{premium:!1,csrf:t.csrfToken}),document.getElementById("ads"))}}}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var c=t[r]={exports:{}};return e[r](c,c.exports,a),c.exports}(()=>{const e=a(603),t=a(45),r=t=>{t.preventDefault(),e.hidePopup();const a=t.target.querySelector("#currentPass").value,r=t.target.querySelector("#newPass").value,n=t.target.querySelector("#newPass2").value,c=t.target.querySelector("#_csrf1").value;return e.sendPost(t.target.action,{currentPass:a,newPass:r,newPass2:n,_csrf:c}),!1},n=t=>{t.preventDefault(),e.hidePopup();const a=t.target.querySelector("#_csrf2").value;return e.sendPost(t.target.action,{_csrf:a},s),!1},c=e=>React.createElement("div",{id:"passWrapper"},React.createElement("h3",{id:"passTitle"},"Change Password"),React.createElement("form",{id:"passForm",name:"passForm",onSubmit:r,action:"/pass",method:"POST",className:"passForm"},React.createElement("label",{htmlFor:"currentPass"},"Current Password"),React.createElement("input",{id:"currentPass",type:"password",name:"currentPass",placeholder:"Current Password"}),React.createElement("label",{htmlFor:"newPass"},"New Password"),React.createElement("input",{id:"newPass",type:"password",name:"newPass",placeholder:"New Password"}),React.createElement("label",{htmlFor:"newPass2"},"Confirm Password"),React.createElement("input",{id:"newPass2",type:"password",name:"newPass2",placeholder:"Confirm New Password"}),React.createElement("input",{id:"_csrf1",type:"hidden",name:"_csrf",value:e.csrf}),React.createElement("input",{className:"submitPass",type:"submit",value:"Change Password"}))),m=e=>e.premium?React.createElement("div",{id:"premiumWrapper"},React.createElement("h3",{id:"premiumTitle"},"Premium"),React.createElement("p",{id:"premiumText"},"Buy Chirp Premium to disable ads!"),React.createElement("form",{id:"premiumForm",name:"premiumForm",onSubmit:n,action:"/premium",method:"POST",className:"premiumForm"},React.createElement("input",{id:"_csrf2",type:"hidden",name:"_csrf",value:e.csrf}),React.createElement("input",{className:"submitPremium",type:"submit",value:"Deactivate Premium"}))):React.createElement("div",{id:"premiumWrapper"},React.createElement("h3",{id:"premiumTitle"},"Premium"),React.createElement("p",{id:"premiumText"},"Buy Chirp Premium to disable ads!"),React.createElement("form",{id:"premiumForm",name:"premiumForm",onSubmit:n,action:"/premium",method:"POST",className:"premiumForm"},React.createElement("input",{id:"_csrf2",type:"hidden",name:"_csrf",value:e.csrf}),React.createElement("input",{className:"submitPremium",type:"submit",value:"Activate Premium"}))),s=async()=>{t.accountInit();const e=await fetch("/getToken"),a=await e.json(),r=await fetch("/getAccountData"),n=await r.json();ReactDOM.render(React.createElement(c,{csrf:a.csrfToken}),document.getElementById("changePassword")),ReactDOM.render(React.createElement(m,{premium:n.account.premium,csrf:a.csrfToken}),document.getElementById("premium"))};window.onload=s})()})();